<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `RedditClient` struct in crate `rawr`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, RedditClient">

    <title>rawr::client::RedditClient - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>rawr</a>::<wbr><a href='index.html'>client</a></p><script>window.sidebarCurrent = {name: 'RedditClient', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>rawr</a>::<wbr><a href='index.html'>client</a>::<wbr><a class='struct' href=''>RedditClient</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-113' class='srclink' href='../../src/rawr/src/client/mod.rs.html#49-56' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct RedditClient {
    pub client: <a class='struct' href='https://hyperium.github.io/hyper/hyper/client/struct.Client.html' title='hyper::client::Client'>Client</a>,
    // some fields omitted
}</pre><div class='docblock'><p>A client to connect to Reddit. See the module-level documentation for examples.</p>
</div><h2 class='fields'>Fields</h2><span id='structfield.client' class='structfield'><code>client: <a class='struct' href='https://hyperium.github.io/hyper/hyper/client/struct.Client.html' title='hyper::client::Client'>Client</a></code>
                           </span><span class='stab '></span><div class='docblock'><p>The internal HTTP client. You should not need to manually use this. If you do, file an
issue saying why the API does not support your use-case, and we&#39;ll try to add it.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../../rawr/client/struct.RedditClient.html' title='rawr::client::RedditClient'>RedditClient</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-118' class='srclink' href='../../src/rawr/src/client/mod.rs.html#59-265' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>(user_agent: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, authenticator: <a class='struct' href='https://doc.rust-lang.org/nightly/alloc/arc/struct.Arc.html' title='alloc::arc::Arc'>Arc</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html' title='std::sync::mutex::Mutex'>Mutex</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html' title='alloc::boxed::Box'>Box</a>&lt;<a class='trait' href='../../rawr/auth/trait.Authenticator.html' title='rawr::auth::Authenticator'>Authenticator</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a>&gt;&gt;&gt;) -&gt; <a class='struct' href='../../rawr/client/struct.RedditClient.html' title='rawr::client::RedditClient'>RedditClient</a></code></h4>
<div class='docblock'><p>Creates an instance of the <code>RedditClient</code> using the provided user agent.</p>
</div><h4 id='method.set_auto_logout' class='method'><code>fn <a href='#method.set_auto_logout' class='fnname'>set_auto_logout</a>(&amp;mut self, val: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h4>
<div class='docblock'><p>Disables the automatic logout that occurs when the client drops out of scope.
In the case of OAuth, it will prevent your access token or refresh token from being
revoked, though they may expire anyway.</p>

<p>Although not necessary, it is good practice to revoke tokens when you&#39;re done with them.
This will <strong>not</strong> affect the client ID or client secret.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>rawr</span>::<span class='ident'>client</span>::<span class='ident'>RedditClient</span>;
<span class='kw'>use</span> <span class='ident'>rawr</span>::<span class='ident'>auth</span>::<span class='ident'>PasswordAuthenticator</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>RedditClient</span>::<span class='ident'>new</span>(<span class='string'>&quot;rawr&quot;</span>, <span class='ident'>PasswordAuthenticator</span>::<span class='ident'>new</span>(<span class='string'>&quot;a&quot;</span>, <span class='string'>&quot;b&quot;</span>, <span class='string'>&quot;c&quot;</span>, <span class='string'>&quot;d&quot;</span>));
<span class='ident'>client</span>.<span class='ident'>set_auto_logout</span>(<span class='bool-val'>false</span>); <span class='comment'>// Auto-logout disabled. Set to `true` to enable.</span></pre>
</div><h4 id='method.ensure_authenticated' class='method'><code>fn <a href='#method.ensure_authenticated' class='fnname'>ensure_authenticated</a>&lt;F,&nbsp;T&gt;(&amp;self, lambda: F) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;T,&nbsp;<a class='enum' href='../../rawr/errors/enum.APIError.html' title='rawr::errors::APIError'>APIError</a>&gt; <span class='where'>where F: <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Fn.html' title='core::ops::Fn'>Fn</a>() -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;T,&nbsp;<a class='enum' href='../../rawr/errors/enum.APIError.html' title='rawr::errors::APIError'>APIError</a>&gt;</span></code></h4>
<div class='docblock'><p>Runs the lambda passed in. Refreshes the access token if it fails due to an HTTP 401
Unauthorized error, then reruns the lambda. If the lambda fails twice, or fails due to
a different error, the error is returned.</p>
</div><h4 id='method.get_authenticator' class='method'><code>fn <a href='#method.get_authenticator' class='fnname'>get_authenticator</a>(&amp;self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/std/sync/mutex/struct.MutexGuard.html' title='std::sync::mutex::MutexGuard'>MutexGuard</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html' title='alloc::boxed::Box'>Box</a>&lt;<a class='trait' href='../../rawr/auth/trait.Authenticator.html' title='rawr::auth::Authenticator'>Authenticator</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static&gt;&gt;</code></h4>
<div class='docblock'><p>Gets a mutable reference to the authenticator using a <code>&amp;RedditClient</code>. Mainly used
in the <code>ensure_authenticated</code> method to update tokens if necessary.</p>
</div><h4 id='method.subreddit' class='method'><code>fn <a href='#method.subreddit' class='fnname'>subreddit</a>(&amp;self, name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) -&gt; <a class='struct' href='../../rawr/structures/subreddit/struct.Subreddit.html' title='rawr::structures::subreddit::Subreddit'>Subreddit</a></code></h4>
<div class='docblock'><p>Provides an interface to the specified subreddit which can be used to access
subreddit-related API endpoints such as post listings.</p>
</div><h4 id='method.user' class='method'><code>fn <a href='#method.user' class='fnname'>user</a>(&amp;self, name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) -&gt; <a class='struct' href='../../rawr/structures/user/struct.User.html' title='rawr::structures::user::User'>User</a></code></h4>
<div class='docblock'><p>Gets the specified user in order to get user-related data such as the &#39;about&#39; page.</p>
</div><h4 id='method.build_url' class='method'><code>fn <a href='#method.build_url' class='fnname'>build_url</a>(&amp;self, dest: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, oauth_required: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>, authenticator: &amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/std/sync/mutex/struct.MutexGuard.html' title='std::sync::mutex::MutexGuard'>MutexGuard</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html' title='alloc::boxed::Box'>Box</a>&lt;<a class='trait' href='../../rawr/auth/trait.Authenticator.html' title='rawr::auth::Authenticator'>Authenticator</a> + <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static&gt;&gt;) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a></code></h4>
<div class='docblock'><p>Creates a full URL using the correct access point (API or OAuth) from the stem.</p>
</div><h4 id='method.get' class='method'><code>fn <a href='#method.get' class='fnname'>get</a>(&amp;self, dest: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, oauth_required: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; <a class='struct' href='https://hyperium.github.io/hyper/hyper/client/struct.RequestBuilder.html' title='hyper::client::RequestBuilder'>RequestBuilder</a></code></h4>
<div class='docblock'><p>Wrapper around the <code>get</code> function of <code>hyper::client::Client</code>, which sends a HTTP GET
request. The correct user agent header is also sent using this function, which is necessary
to prevent 403 errors.</p>
</div><h4 id='method.get_json' class='method'><code>fn <a href='#method.get_json' class='fnname'>get_json</a>&lt;T&gt;(&amp;self, dest: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, oauth_required: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;T,&nbsp;<a class='enum' href='../../rawr/errors/enum.APIError.html' title='rawr::errors::APIError'>APIError</a>&gt; <span class='where'>where T: <a class='trait' href='https://serde-rs.github.io/serde/serde/serde/de/trait.Deserialize.html' title='serde::de::Deserialize'>Deserialize</a></span></code></h4>
<div class='docblock'><p>Sends a GET request with the specified parameters, and returns the resulting
deserialized object.</p>
</div><h4 id='method.post' class='method'><code>fn <a href='#method.post' class='fnname'>post</a>(&amp;self, dest: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, oauth_required: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; <a class='struct' href='https://hyperium.github.io/hyper/hyper/client/struct.RequestBuilder.html' title='hyper::client::RequestBuilder'>RequestBuilder</a></code></h4>
<div class='docblock'><p>Wrapper around the <code>post</code> function of <code>hyper::client::Client</code>, which sends a HTTP POST
request. The correct user agent header is also sent using this function, which is necessary
to prevent 403 errors.</p>
</div><h4 id='method.post_json' class='method'><code>fn <a href='#method.post_json' class='fnname'>post_json</a>&lt;T&gt;(&amp;self, dest: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, body: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, oauth_required: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;T,&nbsp;<a class='enum' href='../../rawr/errors/enum.APIError.html' title='rawr::errors::APIError'>APIError</a>&gt; <span class='where'>where T: <a class='trait' href='https://serde-rs.github.io/serde/serde/serde/de/trait.Deserialize.html' title='serde::de::Deserialize'>Deserialize</a></span></code></h4>
<div class='docblock'><p>Sends a post request with the specified parameters, and converts the resulting JSON
into a deserialized object.</p>
</div><h4 id='method.post_success' class='method'><code>fn <a href='#method.post_success' class='fnname'>post_success</a>(&amp;self, dest: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, body: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, oauth_required: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>,&nbsp;<a class='enum' href='../../rawr/errors/enum.APIError.html' title='rawr::errors::APIError'>APIError</a>&gt;</code></h4>
<div class='docblock'><p>Sends a post request with the specified parameters, and ensures that the response
has a success header (HTTP 2xx).</p>
</div><h4 id='method.url_escape' class='method'><code>fn <a href='#method.url_escape' class='fnname'>url_escape</a>(&amp;self, item: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a></code></h4>
<div class='docblock'><p>URL encodes the specified string so that it can be sent in GET and POST requests.</p>

<p>This is only done when data is being sent that isn&#39;t from the API (we assume that API
data is safe)</p>

<h1 id='examples-1' class='section-header'><a href='#examples-1'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>client</span>.<span class='ident'>url_escape</span>(<span class='ident'>String</span>::<span class='ident'>from</span>(<span class='string'>&quot;test&amp;co&quot;</span>)), <span class='ident'>String</span>::<span class='ident'>from</span>(<span class='string'>&quot;test%26co&quot;</span>));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>client</span>.<span class='ident'>url_escape</span>(<span class='ident'>String</span>::<span class='ident'>from</span>(<span class='string'>&quot;👍&quot;</span>)), <span class='ident'>String</span>::<span class='ident'>from</span>(<span class='string'>&quot;%F0%9F%91%8D&quot;</span>));</pre>
</div><h4 id='method.get_by_id' class='method'><code>fn <a href='#method.get_by_id' class='fnname'>get_by_id</a>(&amp;self, id: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) -&gt; <a class='struct' href='../../rawr/structures/submission/struct.LazySubmission.html' title='rawr::structures::submission::LazySubmission'>LazySubmission</a></code></h4>
<div class='docblock'><p>Gets a <code>LazySubmission</code> object which can be used to access the information/comments of a
specified post. The <strong>full</strong> name of the item should be used.</p>

<h1 id='examples-2' class='section-header'><a href='#examples-2'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>rawr</span>::<span class='ident'>prelude</span>::<span class='op'>*</span>;
<span class='kw'>let</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>RedditClient</span>::<span class='ident'>new</span>(<span class='string'>&quot;rawr&quot;</span>, <span class='ident'>AnonymousAuthenticator</span>::<span class='ident'>new</span>());
<span class='kw'>let</span> <span class='ident'>post</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>get_by_id</span>(<span class='string'>&quot;t3_4uule8&quot;</span>).<span class='ident'>get</span>().<span class='ident'>expect</span>(<span class='string'>&quot;Could not get post.&quot;</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>post</span>.<span class='ident'>title</span>(), <span class='string'>&quot;[C#] Abstract vs Interface&quot;</span>);</pre>
</div><h4 id='method.messages' class='method'><code>fn <a href='#method.messages' class='fnname'>messages</a>(&amp;self) -&gt; <a class='struct' href='../../rawr/structures/messages/struct.MessageInterface.html' title='rawr::structures::messages::MessageInterface'>MessageInterface</a></code></h4>
<div class='docblock'><p>Gets a <code>MessageInterface</code> object which allows access to the message listings (e.g. <code>inbox</code>,
<code>unread</code>, etc.)</p>

<h1 id='examples-3' class='section-header'><a href='#examples-3'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>rawr</span>::<span class='ident'>prelude</span>::<span class='op'>*</span>;
<span class='kw'>let</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>RedditClient</span>::<span class='ident'>new</span>(<span class='string'>&quot;rawr&quot;</span>, <span class='ident'>PasswordAuthenticator</span>::<span class='ident'>new</span>(<span class='string'>&quot;a&quot;</span>, <span class='string'>&quot;b&quot;</span>, <span class='string'>&quot;c&quot;</span>, <span class='string'>&quot;d&quot;</span>));
<span class='kw'>let</span> <span class='ident'>messages</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>messages</span>();
<span class='kw'>for</span> <span class='ident'>message</span> <span class='kw'>in</span> <span class='ident'>messages</span>.<span class='ident'>unread</span>(<span class='ident'>ListingOptions</span>::<span class='ident'>default</span>()) {

}</pre>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Drop.html' title='core::ops::Drop'>Drop</a> for <a class='struct' href='../../rawr/client/struct.RedditClient.html' title='rawr::client::RedditClient'>RedditClient</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-220' class='srclink' href='../../src/rawr/src/client/mod.rs.html#267-273' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.drop' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Drop.html#tymethod.drop' class='fnname'>drop</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>A method called when the value goes out of scope. <a href="https://doc.rust-lang.org/nightly/core/ops/trait.Drop.html#tymethod.drop">Read more</a></p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "rawr";
        window.playgroundUrl = "";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    
    <script defer src="../../search-index.js"></script>
</body>
</html>